function main(){(function(){'use strict'
jQuery(document).ready(function($){var wd=$(window).width();var wd=jQuery(window).width();$(".affwp-lost-password a").click(function(event){event.preventDefault();window.location.href="/login?forgot=true"})
var footerWpmlMenu=$("#footer-menu > .wpml-ls-current-language").find("a").first();var subMenuLanguageFooter=$("#footer-menu > .wpml-ls-current-language").find(".sub-menu");footerWpmlMenu.mouseenter(function(){subMenuLanguageFooter.addClass("menu-show")});$("#footer-menu > .sub-menu").mouseleave(function(){subMenuLanguageFooter.removeClass("menu-show")})
$("#footer-menu > .wpml-ls-current-language").mouseleave(function(){subMenuLanguageFooter.removeClass("menu-show")});footerWpmlMenu.click(function(event){event.preventDefault()})
$('.rst-menu-trigger').click(function(){$(this).toggleClass('exit').parents('#header').find('.rst-nav-menu').slideToggle(200)});$('.choose_test').click(function(e){e.preventDefault();$('#popup').toggleClass('popup_open')});var x=0;$('.rate_pic a').click(function(e){e.preventDefault();$(this).parent('.rate_pic').find('a').removeClass('active');$(this).addClass('active')});var detector=new MobileDetect(window.navigator.userAgent);function encodeImageFileAsURL(element,x){var output_format="jpg";var quality=parseInt(50);var file=element.files[0];var reader=new FileReader();reader.onloadstart=function(){$('#popup').addClass('popup_open');$('body').addClass('body_popup_open')};reader.onload=function(event){var i=document.getElementById("source_image");i.src=event.target.result}
reader.onloadend=function(event){var source_image;source_image=document.getElementById('source_image');if(!detector.mobile()&&!detector.phone()&&!detector.tablet()&&!detector.os()){var result_image=jic.compress(source_image,quality,output_format).src}else{var result_image=event.target.result}
if(result_image){$('.popup_'+x).find(".rst-inner-over-popup").show();var form_data=new FormData();form_data.append('link',result_image);form_data.append('action','file_upload');$.ajax({url:wz_admin,type:"POST",dataType:'json',contentType:!1,processData:!1,data:form_data,success:function(url){setTimeout(function(){$('body').addClass('body_suscess');$('.popup_'+x).find(".rst-inner-over-popup").hide()},2000);if(url.after&&!url.after.match(/^http([s]?):\/\/.*/)){$('.popup_'+x).find(".main_image_after img.rerult_img").attr('src',wz_url);$('.popup_'+x).find(".download").attr('href',wz_url)}else{$('.popup_'+x).find(".main_image_after img.rerult_img").attr('src',url.after);$('.popup_'+x).find(".download").attr('href',url.download)}
$('.popup_'+x).find(".link_before").val(url.before);$('.popup_'+x).find(".link_after").val(url.after)},error:function(result){},})}}
reader.readAsDataURL(file)}
$('.close_popup1').click(function(e){e.preventDefault();$(this).parents('#popup').removeClass('popup_open');x--;console.log(x);if(x==0){$('.body_popup_open').removeClass('body_popup_open');$('.body_suscess').removeClass('body_suscess')}
return!1});function gotPhoto(element){var file=element.files[0];var reader=new FileReader()
reader.onload=function(event){localStorage.base64=event.target.result;localStorage.file=event}
reader.readAsDataURL(file)}
function getPhoto(){var base64=localStorage.base64;if(base64){return base64}else{return''}}
$("#file_test").change(function(element){gotPhoto(this);window.location.href="https://removal.ai/upload"});$("#file_service").change(function(event){gotPhoto(this);window.location.href="https://removal.ai/upload"});$('.choose_file').click(function(event){event.preventDefault();$('#file_service').click()});$("#url_test").change(function(){var file_data=$('#url_test').val();localStorage.link_url=file_data;window.location.href="https://removal.ai/upload"});$("html").on("cut copy paste",function(e){return;e.preventDefault();var file_data=e.originalEvent.clipboardData.getData('text');if($('.rst-form-group-drag,.rst-form-group-drag-popup,.drag_here').length>0){if($('.rst-not-page-upload').length){localStorage.link_url=file_data;window.location.href="https://removal.ai/upload"}
if(file_data){x++;console.log(x);var random=Math.floor((Math.random()*1000)+1);var html='<div id="popup" class="popup_'+random+' popup_open">'+'<div class="rst-inner-over-popup" style="display: none;">'+'<img src="https://removal.ai/wp-content/themes/remove/images/loading_bar.gif" alt="">'+'</div>'+'<a href="#" class="close_popup close_popup2"></a>'+'<div class="inner-popup">'+'<div class="left-popup">'+'<div class="picture_after">'+'<span>After</span>'+'<div class="main_image_after">'+'<img class="rerult_img" src="https://removal.ai/wp-content/themes/remove/images/after.jpg" alt="">'+'</div>'+'<div class="rate_pic">'+'<span>Rate this result</span>'+'<a href="#" data-rate="satisfied"></a>'+'<a href="#" data-rate="normal"></a>'+'<a href="#" data-rate="unsatisfied"></a>'+'</div>'+'</div>'+'</div>'+'<div class="right-popup">'+'<div class="picture_before">'+'<span>Original Image</span>'+'<div class="main_image_before">'+'<img id="source_image" src="https://removal.ai/wp-content/themes/remove/images/before.png" alt="">'+'</div>'+'<div class="text-center">'+'<a href="https://removal.ai/wp-content/themes/remove/images/after.jpg" class="download" download>Download</a>'+'</div>'+'</div>'+'</div>'+'<input class="link_before" value="" type="hidden">'+'<input class="link_after" value="" type="hidden">'+'<div class="clear"></div>'+'</div>'+'</div>';$('.rst-lits-test-upload').prepend(html);$('.rate_pic a').click(function(e){e.preventDefault();$(this).parent('.rate_pic').find('a').removeClass('active');$(this).addClass('active')});$('.close_popup2').click(function(e){e.preventDefault();$(this).parents('#popup').remove();x--;console.log(x);if(x==0){$('.body_popup_open').removeClass('body_popup_open');$('.body_suscess').removeClass('body_suscess')}
return!1});$('.popup_'+random).find(".main_image_before img").fadeIn("fast").attr('src',file_data);$('#popup').addClass('popup_open');$('body').addClass('body_popup_open');$('.popup_'+random).find(".rst-inner-over-popup").show();var form_data=new FormData();form_data.append('link',file_data);form_data.append('action','file_upload_url');$.ajax({url:wz_admin,type:"POST",dataType:'json',contentType:!1,processData:!1,data:form_data,success:function(url){setTimeout(function(){$('body').addClass('body_suscess');$('.popup_'+random).find(".rst-inner-over-popup").hide()},2000);if(url.after&&!url.after.match(/^http([s]?):\/\/.*/)){$('.popup_'+random).find(".main_image_after img.rerult_img").attr('src',wz_url);$('.popup_'+random).find(".download").attr('href',wz_url)}else{$('.popup_'+random).find(".main_image_after img.rerult_img").attr('src',url.after);$('.popup_'+random).find(".download").attr('href',url.download)}
$('.popup_'+random).find(".link_before").val(file_data);$('.popup_'+random).find(".link_after").val(url.after)},error:function(result){},})}}});function encodeImageFileAsURLDrop(element,random){var output_format="jpg";var quality=parseInt(70);var file=element.originalEvent.dataTransfer.files[0];var reader=new FileReader();reader.onloadstart=function(){$('#popup').addClass('popup_open');$('body').addClass('body_popup_open')};reader.onload=function(event){var i=document.getElementById("source_image");i.src=event.target.result};reader.onloadend=function(event){var source_image;source_image=document.getElementById('source_image');var result_image=jic.compress(source_image,quality,output_format).src;if(result_image){x++;$('.popup_'+random).find(".rst-inner-over-popup").show();var form_data=new FormData();form_data.append('link',result_image);form_data.append('action','file_upload');$.ajax({url:wz_admin,type:"POST",dataType:'json',contentType:!1,processData:!1,data:form_data,success:function(url){setTimeout(function(){$('body').addClass('body_suscess');$('.popup_'+random).find(".rst-inner-over-popup").hide()},2000);if(url.after&&!url.after.match(/^http([s]?):\/\/.*/)){$('.popup_'+random).find(".main_image_after img.rerult_img").attr('src',wz_url);$('.popup_'+random).find(".download").attr('href',wz_url)}else{$('.popup_'+random).find(".main_image_after img.rerult_img").attr('src',url.after);$('.popup_'+random).find(".download").attr('href',url.download)}
$('.popup_'+random).find(".link_before").val(url.before);$('.popup_'+random).find(".link_after").val(url.after)},error:function(result){},})}}
reader.readAsDataURL(file)}
var link_url=localStorage.link_url;if(link_url){var random=Math.floor((Math.random()*1000)+1);var html='<div id="popup" class="popup_'+random+' popup_open">'+'<div class="rst-inner-over-popup" style="display: none;">'+'<img src="https://removal.ai/wp-content/themes/remove/images/loading_bar.gif" alt="">'+'</div>'+'<a href="#" class="close_popup close_popup2"></a>'+'<div class="inner-popup">'+'<div class="left-popup">'+'<div class="picture_after">'+'<span>After</span>'+'<div class="main_image_after">'+'<img class="rerult_img" src="https://removal.ai/wp-content/themes/remove/images/after.jpg" alt="">'+'</div>'+'<div class="rate_pic">'+'<span>Rate this result</span>'+'<a href="#" data-rate="satisfied"></a>'+'<a href="#" data-rate="normal"></a>'+'<a href="#" data-rate="unsatisfied"></a>'+'</div>'+'</div>'+'</div>'+'<div class="right-popup">'+'<div class="picture_before">'+'<span>Original Image</span>'+'<div class="main_image_before">'+'<img id="source_image" src="https://removal.ai/wp-content/themes/remove/images/before.png" alt="">'+'</div>'+'<div class="text-center">'+'<a href="https://removal.ai/wp-content/themes/remove/images/after.jpg" class="download" download>Download</a>'+'</div>'+'</div>'+'</div>'+'<input class="link_before" value="" type="hidden">'+'<input class="link_after" value="" type="hidden">'+'<div class="clear"></div>'+'</div>'+'</div>';var file_data=link_url;$('.rst-lits-test-upload').prepend(html);$('.rate_pic a').click(function(e){e.preventDefault();$(this).parent('.rate_pic').find('a').removeClass('active');$(this).addClass('active')});$('.close_popup2').click(function(e){e.preventDefault();$(this).parents('#popup').remove();x--;if(x==0){$('.body_popup_open').removeClass('body_popup_open');$('.body_suscess').removeClass('body_suscess')}
return!1});$('.popup_'+random).find(".main_image_before img").fadeIn("fast").attr('src',file_data);if(file_data){$('#popup').addClass('popup_open');$('body').addClass('body_popup_open');x++;$('.popup_'+random).find(".rst-inner-over-popup").show();var form_data=new FormData();form_data.append('link',file_data);form_data.append('action','file_upload_url');$.ajax({url:wz_admin,type:"POST",dataType:'json',contentType:!1,processData:!1,data:form_data,success:function(url){localStorage.removeItem("link_url");setTimeout(function(){$('body').addClass('body_suscess');$('.popup_'+random).find(".rst-inner-over-popup").hide()},2000);if(url.after&&!url.after.match(/^http([s]?):\/\/.*/)){$('.popup_'+random).find(".main_image_after img.rerult_img").attr('src',wz_url);$('.popup_'+random).find(".download").attr('href',wz_url)}else{$('.popup_'+random).find(".main_image_after img.rerult_img").attr('src',url.after);$('.popup_'+random).find(".download").attr('href',url.download)}
$('.popup_'+random).find(".link_before").val(file_data);$('.popup_'+random).find(".link_after").val(url.after)},error:function(result){},})}}
$('.buy_now a').click(function(e){$.cookie("link_before",$(".link_before").val(),{path:'/'});$.cookie("link_after",$(".link_after").val(),{path:'/'})});if($('#form_upload_order').length>0){$('#form_upload_order').parsley()}
var ul=$('#form_upload_order').find('ul.trail-list-upload');var autoSubmit=!1;var formDataSubmit='';var uploadDing=0;var googleDriveNumber=0;if($('#form_upload_order').length>0){$('#form_upload_order').fileupload({url:home_url+'/upload.php',formData:{name:'type',value:'order'},add:function(e,data){console.log('1111');$('.loading_ajax').show();$('.rst-form-group-button2').css('opacity',0);var goUpload=!0;if(uploadDing>=999){goUpload=!1}
var uploadFile=data.files[0];if(!(/\.(ARW|arw|nef|dng|CR2|cr2|gif|jpg|jpeg|tiff|png)$/i).test(uploadFile.name)){goUpload=!1;console.log('not support')}
if(goUpload){uploadDing++;console.log('uploading');var tpl=$('<li class="working preview clearfix"><img /></li>');ul.find('.add').before(tpl);data.context=ul.find('.preview').last();data.context.css('opacity',0.5);var reader=new FileReader();if(!(/\.(ARW|arw|nef|dng|CR2|cr2)$/i).test(uploadFile.name)){reader.onloadend=function(e){var tempImg=new Image();tempImg.src=reader.result;tempImg.onload=function(){var canvas=document.createElement('canvas');canvas.width=100;canvas.height=100;var ctx=canvas.getContext("2d");ctx.drawImage(this,0,0,100,100);var dataURL=canvas.toDataURL("image/jpeg");$(tpl).find('img').attr('src',dataURL)}}}else{$(tpl).find('img').attr('src',$("#image-temp-upload-file").attr('src'));reader.onloadend=function(e){var tempImg=new Image();tempImg.src=reader.result;tempImg.onload=function(){var canvas=document.createElement('canvas');canvas.width=100;canvas.height=100;var ctx=canvas.getContext("2d");var img=document.getElementById("image-temp-upload-file");ctx.drawImage(img,0,0,100,100);var dataURL=canvas.toDataURL("image/jpeg");$(tpl).find('img').attr('src',dataURL)}}}
reader.readAsDataURL(uploadFile);data.formData={token:$('#form_upload_order input[name="token"]').val()};var jqXHR=data.submit().success(function(result,textStatus,jqXHR){googleDriveNumber++;if(googleDriveNumber===$('.trail-list-upload li.preview').length&&!submited){$('#form_upload_order input[type="submit"]').addClass('success')}
if(autoSubmit){sendMail(formDataSubmit)}})}},progress:function(e,data){var progress=parseInt(data.loaded/data.total*100,10);$('.td-progress-bar').css('width',progress+'%');if(progress==100){data.context.removeClass('working').addClass('success')}
setTimeout(function(){$('.loading_ajax').hide();$('.rst-form-group-button2').css('opacity',1);data.context.css('opacity',1)},1000)},fail:function(e,data){data.context.addClass('error')}})}
$('#form_upload_order').submit(function(event){event.preventDefault();var form=$(this);form.parsley();formDataSubmit=$(this).serialize();sendMail(formDataSubmit)});var submited=!1;function sendMail(formDataSubmit){if(!submited){submited=!0;$(".rst-overlay-popup").show();$.ajax({url:home_url+'/order.php',data:formDataSubmit,}).done(function(response){console.log(response);$(".rst-overlay-popup").hide();$('input[type="text"], textarea').val('');$('input[type="email"]').val('');$('.trail-list-upload li').remove();$('#form_upload_order').addClass('sended');window.location.href='https://removal.ai/thankyou/'})}else{autoSubmit=!0}}});jQuery(window).on("load",function($){jQuery(".twentytwenty-container").twentytwenty({default_offset_pct:0.5});var rstgrid=jQuery('.rst-list-example');rstgrid.isotope();rstgrid.isotope({itemSelector:'.item-example',layoutMode:'packery',transitionDuration:'0.3s',})});jQuery(window).scroll(function($){if(jQuery(this).scrollTop()>(20)){jQuery('#header').addClass('header-scrolled')}else{jQuery('#header').removeClass('header-scrolled')}});jQuery(document).ready(function($){$('.rst-user-guid-thumb').click(function(e){$(this).parent().find(".active").removeClass('active');$(this).addClass('active');let srcImg=$($(this).find(".rst-user-guid-image")[0]).data("src");$(".rst-user-guid-view").attr("src",srcImg)})
$('a[data-toggle="tab"]').on('shown.bs.tab',function(e){let targetTabs=$(e.target).attr("user-guidance");if(targetTabs){let tabTarget=$(e.target).attr("href")
let srcImg=$($(tabTarget).find(".rst-user-guid-image")[3]).data("src");$(".rst-user-guid-view").attr("src",srcImg)}})})
const maxTryImageRandom=1;const randomPeople=Math.floor((Math.random()*maxTryImageRandom)+1);jQuery("#quick_try_list").append(`<img data-origin-src="https://removal.ai/wp-content/uploads/new-theme/try/people-${randomPeople}.jpg"`+`src="https://cdn.removal.ai/new-theme/try/people-${randomPeople}-thumb.webp"`+`alt="" width="50" height="50" />`);const randomCar=Math.floor((Math.random()*maxTryImageRandom)+1);jQuery("#quick_try_list").append(`<img data-origin-src="https://removal.ai/wp-content/uploads/new-theme/try/car-${randomCar}.jpg"`+`src="https://cdn.removal.ai/new-theme/try/car-${randomCar}-thumb.webp"`+`alt="" width="50" height="50" />`);const randomProduct=Math.floor((Math.random()*maxTryImageRandom)+1);jQuery("#quick_try_list").append(`<img data-origin-src="https://removal.ai/wp-content/uploads/new-theme/try/product-${randomProduct}.jpg"`+`src="https://cdn.removal.ai/new-theme/try/product-${randomProduct}-thumb.webp"`+`alt="" width="50" height="50" />`);const randomAnimal=Math.floor((Math.random()*maxTryImageRandom)+1);jQuery("#quick_try_list").append(`<img data-origin-src="https://removal.ai/wp-content/uploads/new-theme/try/animal-${randomAnimal}.jpg"`+`src="https://cdn.removal.ai/new-theme/try/animal-${randomAnimal}-thumb.webp"`+`alt="" width="50" height="50" />`)}())}
main();
